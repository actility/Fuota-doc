<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RMC Core</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="A guide on how to operate ThingPark FUOTA">
    
    <link rel="preload" href="/thingpark-fuota/1.4/assets/css/0.styles.87acaee1.css" as="style"><link rel="preload" href="/thingpark-fuota/1.4/assets/js/app.e9a3e0ee.js" as="script"><link rel="preload" href="/thingpark-fuota/1.4/assets/js/2.b5b8ca32.js" as="script"><link rel="preload" href="/thingpark-fuota/1.4/assets/js/38.234468a2.js" as="script"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/10.3c73499f.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/11.7b28ed4c.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/12.7bcef204.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/13.34f1c928.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/14.a88f7990.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/15.5cc8a30a.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/16.e42c316e.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/17.f32c563d.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/18.31d57899.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/19.e917d2ff.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/20.77cd2831.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/21.878bd51a.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/22.2cfe84ac.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/23.a44b65d4.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/24.13ed7d4d.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/25.806f9e12.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/26.8ca124a4.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/27.e655e6b7.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/28.673cb7b3.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/29.02adbe5b.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/3.a6b4f57d.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/30.a950bf0e.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/31.b7959d3c.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/32.e77488ee.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/33.f35a62c6.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/34.e53f5903.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/35.6eeb4bb3.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/36.cbe55ae0.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/37.94a1e496.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/39.94cc8806.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/4.6cb566ba.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/40.ac75c78d.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/41.33d2c1e2.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/42.4ba8576d.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/43.d917c9e5.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/44.173cee49.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/45.a41b6dcd.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/46.bfd52a52.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/47.ea59da19.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/5.abbf12a6.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/6.a5e1622b.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/7.c121b967.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/8.c1142310.js"><link rel="prefetch" href="/thingpark-fuota/1.4/assets/js/9.3f3acc86.js">
    <link rel="stylesheet" href="/thingpark-fuota/1.4/assets/css/0.styles.87acaee1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/thingpark-fuota/1.4/" class="home-link router-link-active"><img src="/thingpark-fuota/1.4/img/DesktopBanner.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.actility.com/thingpark-documentation-portal/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentation portal
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Versions</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Versions</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/thingpark-fuota/1.4/" class="nav-link">
  latest
</a></li><li class="dropdown-item"><!----> <a href="/thingpark-fuota/1.4/" class="nav-link">
  1.4
</a></li></ul></div></div> <a href="https://github.com/actility/Fuota-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.actility.com/thingpark-documentation-portal/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentation portal
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Versions</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Versions</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/thingpark-fuota/1.4/" class="nav-link">
  latest
</a></li><li class="dropdown-item"><!----> <a href="/thingpark-fuota/1.4/" class="nav-link">
  1.4
</a></li></ul></div></div> <a href="https://github.com/actility/Fuota-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/thingpark-fuota/1.4/Overview/" class="sidebar-heading clickable"><span>Overview</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/thingpark-fuota/1.4/Managing-FUOTA-objects/" class="sidebar-heading clickable"><span>Managing objects</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/thingpark-fuota/1.4/Managing-update-campaigns/" class="sidebar-heading clickable"><span>Managing update campaigns</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/thingpark-fuota/1.4/FUOTA-product-description-guide/" class="sidebar-heading clickable open"><span>Product Description Guide</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/thingpark-fuota/1.4/Functionalities/Server-protocol/" class="sidebar-link">Server protocol</a></li><li><a href="/thingpark-fuota/1.4/Functionalities/Server-objects/" class="sidebar-link">Server objects</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/thingpark-fuota/1.4/Functionalities/Update-campaigns/" class="sidebar-heading clickable"><span>Update campaigns</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/thingpark-fuota/1.4/Server-architecture/" class="sidebar-heading clickable router-link-active open"><span>Server architecture</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/thingpark-fuota/1.4/Server-architecture/RMC-core/" aria-current="page" class="active sidebar-link">RMC Core</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/thingpark-fuota/1.4/Server-architecture/RMC-core/#rmc-core-functionality-description" class="sidebar-link">RMC Core functionality description</a></li><li class="sidebar-sub-header"><a href="/thingpark-fuota/1.4/Server-architecture/RMC-core/#rmc-core-to-agent-api" class="sidebar-link">RMC Core to Agent API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/thingpark-fuota/1.4/Server-architecture/RMC-core/#configuration-messages" class="sidebar-link">Configuration messages</a></li><li class="sidebar-sub-header"><a href="/thingpark-fuota/1.4/Server-architecture/RMC-core/#progress-messages" class="sidebar-link">Progress messages</a></li><li class="sidebar-sub-header"><a href="/thingpark-fuota/1.4/Server-architecture/RMC-core/#metrics-messages" class="sidebar-link">Metrics messages</a></li></ul></li></ul></li><li><a href="/thingpark-fuota/1.4/Server-architecture/RMC-agent/" class="sidebar-link">RMC Agent</a></li><li><a href="/thingpark-fuota/1.4/Server-architecture/Database/" class="sidebar-link">Database</a></li><li><a href="/thingpark-fuota/1.4/Server-architecture/High-availability-scalability/" class="sidebar-link">High availability and scalability</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/thingpark-fuota/1.4/Server-configuration-logging/" class="sidebar-heading clickable"><span>Server configuration and logging</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/thingpark-fuota/1.4/Server-rest-API/" class="sidebar-link">Server REST API</a></li><li><a href="/thingpark-fuota/1.4/Server-footprint-performance/" class="sidebar-link">Server footprint and performance</a></li></ul></section></li><li><a href="/thingpark-fuota/1.4/Device-manufacturer-user-guide/" class="sidebar-link">Device Manufacturer User Guide</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="rmc-core"><a href="#rmc-core" class="header-anchor">#</a> RMC Core</h1> <h2 id="rmc-core-functionality-description"><a href="#rmc-core-functionality-description" class="header-anchor">#</a> RMC Core functionality description</h2> <p>RMC Core is a central module of FUOTA system. RMC Core does the following actions:</p> <ul><li>Processes user commands received via REST API and validates inputs.</li> <li>Reads/writes all FUOTA server objects from relational database.</li> <li>Provides functionality to plan campaign based on device coverage by
gateways, battery level and uplink rate of the devices (will be
available in future release).</li> <li>Prepares and sends campaign messages to RMC Agents to initiate
campaign run.</li> <li>Receives campaign progress messages from RMC Agents, stores them
into database and present to user when requested.</li> <li>Receives various metrics from RMC Agents, stores them into database
and reports to external monitoring system when requested.</li> <li>Monitors RMC Agents availability and load (will be available in
future release);</li> <li>Decides which RMC Agent will be used to run campaign (will be
available in future release).</li> <li>Reloads campaign from its recent state on another RMC Agent if
previous one fails (will be available in future release).</li> <li>Prepares incremental firmware upgrade patch.</li></ul> <p>RMC Core is a high-level component which does not has any visibility on
protocol transactions with end devices, fragmentation of the data
messages etc. Being independent from low-level details, it supports
different versions of RMC Agents which in turn could support different
versions of LoRaWAN® protocol or multicast, fragmentation and device
management packages. It brings great flexibility into FUOTA server
operations and allows simultaneous support of different types of
networks and devices.</p> <p>To support new variant of protocol or device package one is needed to deploy new RMC Agent with required capability. This can be accomplished without disturbing all other parts of the system. RMC Core interacts with RMC Agent with messages sent and received over Kafka topics. RMC Core is implemented as a J2EE application running on the Wildfly application server. Wildfly application server is in turn running in docker container.</p> <h2 id="rmc-core-to-agent-api"><a href="#rmc-core-to-agent-api" class="header-anchor">#</a> RMC Core to Agent API</h2> <p>API between RMC Core and RMC Agents is based on Kafka messages sent
between them in both directions. There are four types of messages sent
to its own Kafka topic.</p> <ul><li><p>Configuration messages are sent from RMC Core to RMC Agent and
contains information about campaign and actions which should be
performed with them. Configuration messages are sent to RMC.CONFIG
topic. RMC Agent provides response for commands contained in this
message.</p></li> <li><p>Progress messages are sent from RMC Agent to RMC Core and contains
information about any state changes of devices during campaign.
These messages are used to present information about campaign
progress in the UI and to keep state of the campaign which will be
used to bootstrap campaign on new agent if previous agent fails.
Progress messages are sent to RMC.AGENT topic.</p></li> <li><p>Metrics messages are sent from RMC Agent to RMC Core and contains
operational metrics which will be returned via metrics request in
RMC Core API. Metrics messages are sent to RMC.METRIC topic.</p></li></ul> <h3 id="configuration-messages"><a href="#configuration-messages" class="header-anchor">#</a> Configuration messages</h3> <p>All configuration messages are provided with key for consumers balance.</p> <ul><li>use <strong>target Id</strong> if possible</li> <li>use <strong>msgId</strong> in any other cases</li></ul> <p>Field required in configuration messages are the following.</p> <ol><li>&quot;action&quot;: field which contains command type for RMC Agent or response from RMC Agent.</li></ol> <table><thead><tr><th>&quot;action&quot; field</th> <th>Description</th></tr></thead> <tbody><tr><td><strong>ADD</strong></td> <td>Start campaign on agent</td></tr> <tr><td><strong>GET</strong></td> <td>Get list of devices</td></tr> <tr><td><strong>RESP</strong></td> <td>Response for GET command</td></tr> <tr><td><strong>STOP</strong></td> <td>Stop campaign on agent</td></tr></tbody></table> <ol start="2"><li>&quot;targetType&quot;: field which contains type of processing required.</li></ol> <table><thead><tr><th>&quot;targetType&quot; field</th> <th>Description</th></tr></thead> <tbody><tr><td><strong>CAMPAIGN</strong></td> <td>Process campaign related command</td></tr></tbody></table> <ol start="3"><li><p>&quot;msgId&quot;: field must be provided to match response with request.</p></li> <li><p>&quot;campaignType&quot;:  field is required for action ADD and contains campaign type requested.</p></li></ol> <table><thead><tr><th>&quot;campaignType&quot; field</th> <th>Description</th></tr></thead> <tbody><tr><td><strong>BINARY</strong></td> <td>Binary file transfer campaign</td></tr> <tr><td><strong>MCGROUP</strong></td> <td>Multicast group configuration campaign</td></tr> <tr><td><strong>FOTA</strong></td> <td>Firmware upgrade campaign</td></tr></tbody></table> <ol start="5"><li><p>&quot;campaignId&quot;: field contains campaign id for reference, required for action ADD.</p></li> <li><p>&quot;devices&quot;: field contains list of devices to be used in campaign, required for action ADD. It contains the following data.</p></li></ol> <table><thead><tr><th>&quot;devices&quot; field</th> <th>Description</th></tr></thead> <tbody><tr><td><strong>eui</strong></td> <td>Device EUI</td></tr> <tr><td><strong>loraWanScheme</strong></td> <td>LoRaWAN protocol, LoRaWAN_1.0 or LoRaWAN_1.1</td></tr> <tr><td><strong>mcGroup</strong></td> <td>Multicast group which will be used to send data to the device</td></tr> <tr><td><strong>genAppKey or appKey</strong></td> <td>Key which will be used to derive keys necessary to encrypt multicast traffic (depending on LoRaWAN protocol)</td></tr> <tr><td><strong>options</strong></td> <td>Device options : uplinkRate default uplink rate configured for the device</td></tr></tbody></table> <ol start="7"><li>&quot;mcGroups&quot;<strong>: field</strong> contains multicast group related data that is required for action ADD. It contains following data.</li></ol> <table><thead><tr><th>&quot;mcGroups&quot; field</th> <th>Description</th></tr></thead> <tbody><tr><td><strong>eui</strong></td> <td>DevEUI of the multicast group virtual device</td></tr> <tr><td><strong>netAddr</strong></td> <td>Network address of the multicast group virtual devices</td></tr> <tr><td><strong>mcKey</strong></td> <td>Multicast group encryption key (obsolete)</td></tr> <tr><td><strong>sessionClass</strong></td> <td>Type of device to which, device should switch to receive multicast traffic. It could be B or C</td></tr> <tr><td><strong>fCntDown</strong></td> <td>Initial downlink frame counter which should be used to send traffic to multicast group</td></tr> <tr><td><strong>options</strong></td> <td>Multicast group additional options // rfRegion: RF regional parameters which should be taken into consideration when sending traffic to Multicast Group. It could have following values: EU868, US915, AS923. It will be used to calculate the maximum fragment size // Datarate: datarate which will be used to send traffic to multicast group from 0 to 15. It will be used in multicast group configuration on the device // downlinkDwellTime: downlink dwell time (0 or 1) which will be used to send traffic to multicast group. It will be used to calculate the maximum data fragment size // freq: frequency which will be used to send traffic to multicast group. It will be used in multicast group configuration on the device. Maximum value 0xFFFFFF // redundancy: forward error correction redundancy which will be used to send traffic to this multicast group from 0 to 4 providing corresponding redundancy of 1/2, 3/4, 5/6, 7/ 8, 1. This option is required for BINARY or FOTA campaign types</td></tr></tbody></table> <ol start="8"><li>&quot;binary&quot;: field which contains base64 string of data to be encoded and sent to devices via multicast group. This field is required for BINARY and FOTA campaign types. It contains following option.</li></ol> <table><thead><tr><th>&quot;data&quot; field</th> <th>Description</th></tr></thead> <tbody><tr><td><strong>data</strong></td> <td>File contents base64 encoded.</td></tr> <tr><td><strong>size</strong></td> <td>File size, used for GET CAMPAIGN only</td></tr></tbody></table> <ol start="9"><li>&quot;options&quot;: field which contains additional campaign related parameters. This field contains the following parameters.</li></ol> <table><thead><tr><th>&quot;options&quot; field</th> <th>Description</th></tr></thead> <tbody><tr><td><strong>maxDuration</strong></td> <td>Campaign duration limit (in seconds). Required for all campaigns</td></tr> <tr><td><strong>successThreshold</strong></td> <td>Percent of the devices successfully completed stage command to make decision that the stage is completed. Required for all campaigns</td></tr> <tr><td><strong>fwVersion</strong></td> <td>4_byte firmware version number converted to string with pattern 0.0.0.0 which will be loaded to the device</td></tr> <tr><td><strong>hwTarget</strong></td> <td>Devices hardware type formatted as hex string according to pattern 00:00:00:00:00:00</td></tr> <tr><td><strong>entrypoint</strong></td> <td>Firmware entry point address (obsolete)</td></tr> <tr><td><strong>updateType</strong></td> <td>Type of firmware update which will be sent: PLAIN - uncompressed full firmware image // LZ4DICT – smart delta patch</td></tr> <tr><td><strong>fwReqVersion</strong></td> <td>Firmware version which should be present on the device to apply patch for incremental updates (not supported yet)</td></tr> <tr><td><strong>rebootDate</strong></td> <td>Device reboot date for image processing in FOTA campaign</td></tr> <tr><td><strong>rebootTime</strong></td> <td>Device reboot time for image processing in FOTA campaign. If rebootDate is not specified next compliant date will be used</td></tr> <tr><td><strong>sessionDate</strong></td> <td>Session start date for BINARY and FOTA campaigns</td></tr> <tr><td><strong>sessionTime</strong></td> <td>Session start time for BINARY and FOTA campaigns</td></tr></tbody></table> <ol start="10"><li>&quot;lrc&quot; field: Array of LRC URLs which agent should use. Required for all campaigns.</li></ol> <p>Example of ADD campaign configuration message</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
\&quot;action\&quot;<span class="token operator">:</span>\&quot;ADD\&quot;<span class="token punctuation">,</span>
\&quot;targetType\&quot;<span class="token operator">:</span>\&quot;CAMPAIGN\&quot;<span class="token punctuation">,</span>
\&quot;campaignId\&quot;<span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">,</span>
\&quot;msgId\&quot;<span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span>
\&quot;time\&quot;<span class="token operator">:</span>\&quot;<span class="token number">2017</span><span class="token number">-10</span>-31T23<span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">40.987</span>+<span class="token number">0300</span>\&quot;<span class="token punctuation">,</span>
\&quot;campaignType\&quot;<span class="token operator">:</span>\&quot;BINARY\&quot;<span class="token punctuation">,</span>
\&quot;devices\&quot;<span class="token operator">:</span> \<span class="token punctuation">[</span><span class="token punctuation">{</span>
	\&quot;eui\&quot;<span class="token operator">:</span> \&quot;18b20000000001\&quot;<span class="token punctuation">,</span>
	\&quot;mcGroup\&quot;<span class="token operator">:</span>\&quot;18b200000000fd\&quot;<span class="token punctuation">,</span>
	\&quot;mcKeKey\&quot;<span class="token operator">:</span> \&quot;2b7e151628aed216abf7158809cf4f00\&quot;<span class="token punctuation">,</span>
	\&quot;loraWanScheme\&quot;<span class="token operator">:</span> \&quot;<span class="token number">1.0</span>\&quot;<span class="token punctuation">,</span>
	\&quot;options\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
		\&quot;uplinkRate\&quot;<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
	\&quot;eui\&quot;<span class="token operator">:</span> \&quot;18b20000000002\&quot;<span class="token punctuation">,</span>
	\&quot;mcGroup\&quot;<span class="token operator">:</span>\&quot;18b200000000fe\&quot;<span class="token punctuation">,</span>
	\&quot;loraWanScheme\&quot;<span class="token operator">:</span> \&quot;<span class="token number">1.0</span>\&quot;
	\&quot;genAppKey\&quot;<span class="token operator">:</span> \&quot;2b7e151628aed216abf7158809cf4f00\&quot;<span class="token punctuation">,</span>
<span class="token punctuation">}</span>\<span class="token punctuation">]</span><span class="token punctuation">,</span>
\&quot;mcGroups\&quot;<span class="token operator">:</span> \<span class="token punctuation">[</span><span class="token punctuation">{</span>
	\&quot;eui\&quot;<span class="token operator">:</span> \&quot;18b200000000fe\&quot;<span class="token punctuation">,</span>
	\&quot;netAddr\&quot;<span class="token operator">:</span> \&quot;040010F2\&quot;<span class="token punctuation">,</span>
	\&quot;mcKey\&quot;<span class="token operator">:</span>\&quot;000102030405060708090a0b0c0d0e0f\&quot;<span class="token punctuation">,</span>
	\&quot;options\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
		\&quot;drate\&quot;<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
		\&quot;downlinkDwellTime\&quot;<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">// optional</span>
		\&quot;redundancy\&quot;<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		\&quot;freq\&quot;<span class="token operator">:</span> <span class="token number">8681000</span><span class="token punctuation">,</span>
		\&quot;rfRegion\&quot;<span class="token operator">:</span>\&quot;EU868\&quot;
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
	\&quot;eui\&quot;<span class="token operator">:</span> \&quot;18b200000000fd\&quot;<span class="token punctuation">,</span>
	\&quot;netAddr\&quot;<span class="token operator">:</span> \&quot;040010F2\&quot;<span class="token punctuation">,</span>
	\&quot;mcKey\&quot;<span class="token operator">:</span>\&quot;000102030405060708090a0b0c0d0e0f\&quot;<span class="token punctuation">,</span>
	\&quot;options\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
		\&quot;drate\&quot;<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
		\&quot;redundancy\&quot;<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		\&quot;freq\&quot;<span class="token operator">:</span> <span class="token number">8681000</span><span class="token punctuation">,</span>
		\&quot;rfRegion\&quot;<span class="token operator">:</span>\&quot;EU868\&quot;
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>\<span class="token punctuation">]</span><span class="token punctuation">,</span>
\&quot;options\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
	\&quot;fwVersion\&quot;<span class="token operator">:</span> \&quot;<span class="token number">255.255</span>.<span class="token number">255.255</span>\&quot;<span class="token punctuation">,</span>
	\&quot;hwTarget\&quot;<span class="token operator">:</span>\&quot;FF<span class="token operator">:</span>FF<span class="token operator">:</span>FF<span class="token operator">:</span>FF<span class="token operator">:</span>FF<span class="token operator">:</span>FF\&quot;<span class="token punctuation">,</span>
	\&quot;entrypoint\&quot;<span class="token operator">:</span> \&quot;<span class="token number">08008000</span>\&quot;<span class="token punctuation">,</span>
	\&quot;updateType\&quot;<span class="token operator">:</span>\&quot;PLAIN\&quot;<span class="token punctuation">,</span>
	\&quot;fwReqVersion\&quot;<span class="token operator">:</span> \&quot;<span class="token number">255.255</span>.<span class="token number">255.255</span>\&quot;<span class="token punctuation">,</span>
	\&quot;maxDuration\&quot;<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
	\&quot;successThreshold\&quot;<span class="token operator">:</span> <span class="token number">50</span>
	\&quot;rebootDate\&quot;<span class="token operator">:</span> \&quot;<span class="token number">1970</span><span class="token number">-01</span><span class="token number">-01</span>\&quot;
	\&quot;rebootTime\&quot;<span class="token operator">:</span> \&quot;<span class="token number">15</span><span class="token operator">:</span><span class="token number">30</span><span class="token operator">:</span><span class="token number">00</span>\&quot;
	\&quot;sessionDate\&quot;<span class="token operator">:</span> \&quot;<span class="token number">1970</span><span class="token number">-01</span><span class="token number">-01</span>\&quot;
	\&quot;sessionTime\&quot;<span class="token operator">:</span> \&quot;<span class="token number">15</span><span class="token operator">:</span><span class="token number">30</span><span class="token operator">:</span><span class="token number">00</span>\&quot;
<span class="token punctuation">}</span><span class="token punctuation">,</span>
\&quot;lrc\&quot;<span class="token operator">:</span> \<span class="token punctuation">[</span><span class="token punctuation">{</span>
		\&quot;url\&quot;<span class="token operator">:</span> \&quot;https<span class="token operator">:</span><span class="token comment">//172.16.12.9:8807/sensor\&quot;</span>
<span class="token punctuation">}</span>\<span class="token punctuation">]</span><span class="token punctuation">,</span>
\&quot;binary\&quot;<span class="token operator">:</span><span class="token punctuation">{</span>
	\&quot;data\&quot;<span class="token operator">:</span>\&quot;Qk2GrgEAAAAAADYA\...\&quot;
	<span class="token punctuation">}</span>
</code></pre></div><p>Example of STOP campaign configuration messages</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
	\&quot;action\&quot;<span class="token operator">:</span>\&quot;STOP\&quot;<span class="token punctuation">,</span>
	\&quot;targetType\&quot;<span class="token operator">:</span>\&quot;CAMPAIGN\&quot;<span class="token punctuation">,</span>
	\&quot;campaignId\&quot;<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
	\&quot;msgId\&quot;<span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span>
	\&quot;options\&quot;<span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Example of GET campaign duration configuration message for MCGROUP
campaign type.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
\&quot;action\&quot;<span class="token operator">:</span> \&quot;GET\&quot;<span class="token punctuation">,</span>
\&quot;targetType\&quot;<span class="token operator">:</span> \&quot;CAMPAIGN\&quot;<span class="token punctuation">,</span>
\&quot;msgId\&quot;<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
\&quot;campaignType\&quot;<span class="token operator">:</span>\&quot;MCGROUP\&quot;<span class="token punctuation">,</span>
\&quot;devices\&quot;<span class="token operator">:</span> \<span class="token punctuation">[</span><span class="token punctuation">{</span>
	\&quot;uplinkRate\&quot;<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>\<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Example of GET campaign duration configuration message for BINARY
campaign type.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
\&quot;action\&quot;<span class="token operator">:</span> \&quot;GET\&quot;<span class="token punctuation">,</span>
\&quot;targetType\&quot;<span class="token operator">:</span> \&quot;CAMPAIGN\&quot;<span class="token punctuation">,</span>
\&quot;msgId\&quot;<span class="token operator">:</span> <span class="token number">12</span>
\&quot;campaignType\&quot;<span class="token operator">:</span>\&quot;BINARY\&quot;<span class="token punctuation">,</span>
\&quot;devices\&quot;<span class="token operator">:</span> \<span class="token punctuation">[</span><span class="token punctuation">{</span>
	\&quot;uplinkRate\&quot;<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token comment">//\&quot;the greatest uplink rate in the devices list\&quot;</span>
<span class="token punctuation">}</span>\<span class="token punctuation">]</span><span class="token punctuation">,</span>
\&quot;mcGroups\&quot;<span class="token operator">:</span> \<span class="token punctuation">[</span><span class="token punctuation">{</span>
	\&quot;sessionClass\&quot;<span class="token operator">:</span> \&quot;C\&quot;<span class="token punctuation">,</span>
	\&quot;options\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
		\&quot;drate\&quot;<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
		\&quot;downlinkDwellTime\&quot;<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		\&quot;redundancy\&quot;<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		\&quot;freq\&quot;<span class="token operator">:</span> <span class="token number">868100000</span><span class="token punctuation">,</span>
		\&quot;rfRegion\&quot;<span class="token operator">:</span>\&quot;EU868\&quot;
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
	\&quot;sessionClass\&quot;<span class="token operator">:</span> \&quot;C\&quot;<span class="token punctuation">,</span>
	\&quot;options\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
	\&quot;drate\&quot;<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
	\&quot;redundancy\&quot;<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	\&quot;freq\&quot;<span class="token operator">:</span> <span class="token number">868100000</span><span class="token punctuation">,</span>
	\&quot;rfRegion\&quot;<span class="token operator">:</span>\&quot;EU868\&quot;
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>\<span class="token punctuation">]</span><span class="token punctuation">,</span>
\&quot;binary\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
	\&quot;size\&quot;<span class="token operator">:</span> <span class="token number">1024</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="progress-messages"><a href="#progress-messages" class="header-anchor">#</a> Progress messages</h3> <p>All progress messages are provided with key -deveui for consumers
balance.</p> <p>Fields which are present in progress messages.</p> <table><thead><tr><th>Field</th> <th>Description</th></tr></thead> <tbody><tr><td><strong>1- &quot;version&quot;</strong></td> <td>Field contains message format version</td></tr> <tr><td><strong>2- &quot;time&quot;</strong></td> <td>Field contains timestamp of the message</td></tr> <tr><td><strong>3- &quot;deveui&quot;</strong></td> <td>Field is optional. If provided, deviceState expected for status details</td></tr> <tr><td><strong>4- &quot;mcgroup&quot;</strong></td> <td>Field is optional. If provided mcgroupState expected for status details</td></tr> <tr><td><strong>5- &quot;stage&quot;</strong></td> <td>Stage for which progress report is provided, field is optional</td></tr> <tr><td><strong>6- &quot;error&quot;</strong></td> <td>Field is optional. If any of campaignStatus, stageStatus, deviceStatus is ERROR then error field contains the most detailed info about error: campaign error→ stage error→ device error</td></tr> <tr><td><strong>7- &quot;campaignId&quot;</strong></td> <td>Field contains campaign id</td></tr> <tr><td><strong>8- &quot;campaignStagesCount&quot;</strong></td> <td>Field contains total number of stages in campaign</td></tr> <tr><td><strong>9- &quot;campaignStagesCompleted&quot;</strong></td> <td>Field contains number of stages completed</td></tr> <tr><td><strong>10- &quot;campaignStatus&quot;</strong></td> <td>Field contains current status of the campaign</td></tr> <tr><td><strong>11- &quot;deviceState&quot;</strong></td> <td>Field contains status of the “deveui” device</td></tr> <tr><td><strong>12- &quot;stage&quot;</strong></td> <td>Field contains details about given stage. It includes following data</td></tr> <tr><td></td> <td>stageId – Stage number</td></tr> <tr><td></td> <td>stageName – Human readable stage name</td></tr> <tr><td></td> <td>stageProgress – Percentage of the devices successfully processed in stage</td></tr> <tr><td></td> <td>stageOperationsTotal – Total number of messages should be sent</td></tr> <tr><td></td> <td>stageOperationsCompleted – Total number of messages sent</td></tr> <tr><td></td> <td>stageStatus – Stage status</td></tr> <tr><td></td> <td>mcGroupEui - Multicast Group DevEUI</td></tr> <tr><td></td> <td>mcGroupState – Multicast Group related state</td></tr> <tr><td></td> <td>fCntDown – Current Multicast Group downlink counter</td></tr></tbody></table> <p>Example of stage start status progress message.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
\&quot;version\&quot;<span class="token operator">:</span> \&quot;<span class="token number">0.2</span>.<span class="token number">2</span>\&quot;<span class="token punctuation">,</span>
\&quot;time\&quot;<span class="token operator">:</span> \&quot;<span class="token number">2019</span><span class="token number">-07</span>-18T17<span class="token operator">:</span><span class="token number">35</span><span class="token operator">:</span><span class="token number">13.366</span>+<span class="token number">0300</span>\&quot;<span class="token punctuation">,</span>
\&quot;campaignId\&quot;<span class="token operator">:</span> <span class="token number">207</span><span class="token punctuation">,</span>
\&quot;campaignStagesCount\&quot;<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
\&quot;campaignStagesCompleted\&quot;<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
\&quot;campaignStatus\&quot;<span class="token operator">:</span> \&quot;RUNNING\&quot;<span class="token punctuation">,</span>
\&quot;stage\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
\&quot;stageId\&quot;<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
\&quot;stageName\&quot;<span class="token operator">:</span> \&quot;DevVersion\&quot;<span class="token punctuation">,</span>
\&quot;stageNum\&quot;<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
\&quot;stageProgress\&quot;<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
\&quot;stageOperationsTotal\&quot;<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
\&quot;stageOperationsCompleted\&quot;<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
\&quot;stageStatus\&quot;<span class="token operator">:</span> \&quot;RUNNING\&quot;<span class="token punctuation">,</span>
\&quot;stageStartTime\&quot;<span class="token operator">:</span> \&quot;<span class="token number">2019</span><span class="token number">-07</span>-18T17<span class="token operator">:</span><span class="token number">35</span><span class="token operator">:</span><span class="token number">24.000</span>+<span class="token number">0300</span>\&quot;
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Example of the device status update progress message.</p> <div class="language-json extra-class"><pre class="language-json"><code>\&quot;version\&quot;<span class="token operator">:</span> \&quot;<span class="token number">0.2</span>.<span class="token number">1</span>\&quot;<span class="token punctuation">,</span>
\&quot;time\&quot;<span class="token operator">:</span> \&quot;<span class="token number">2018</span><span class="token number">-05</span>-07T14<span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">45.050</span>+<span class="token number">0300</span>\&quot;<span class="token punctuation">,</span>
\&quot;campaignId\&quot;<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
\&quot;campaignStagesCount\&quot;<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
\&quot;campaignStagesCompleted\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
\&quot;campaignStatus\&quot;<span class="token operator">:</span> \&quot;COMPLETED\&quot;<span class="token punctuation">,</span>
\&quot;stage\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
\&quot;stageId\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
\&quot;stageName\&quot;<span class="token operator">:</span> \&quot;McGroupSetup\&quot;<span class="token punctuation">,</span>
\&quot;stageProgress\&quot;<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
\&quot;stageOperationsTotal\&quot;<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
\&quot;stageOperationsCompleted\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
\&quot;stageStatus\&quot;<span class="token operator">:</span> \&quot;COMPLETED\&quot;
<span class="token punctuation">}</span><span class="token punctuation">,</span>
\&quot;deveui\&quot;<span class="token operator">:</span> \&quot;18b20000000001\&quot;<span class="token punctuation">,</span>
\&quot;deviceState\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
\&quot;deviceStatus\&quot;<span class="token operator">:</span> \&quot;COMPLETED\&quot;
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>One more example of the device status update progress message which
includes &quot;fwVersion&quot; information after the device has been successfully
upgraded.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
\&quot;version\&quot;<span class="token operator">:</span> \&quot;<span class="token number">0.2</span>.<span class="token number">1</span>\&quot;<span class="token punctuation">,</span>
\&quot;time\&quot;<span class="token operator">:</span> \&quot;<span class="token number">2018</span><span class="token number">-05</span>-07T14<span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">45.050</span>+<span class="token number">0300</span>\&quot;<span class="token punctuation">,</span>
\&quot;campaignId\&quot;<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
\&quot;campaignStagesCount\&quot;<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
\&quot;campaignStagesCompleted\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
\&quot;campaignStatus\&quot;<span class="token operator">:</span> \&quot;COMPLETED\&quot;<span class="token punctuation">,</span>
\&quot;stage\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
	\&quot;stageId\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	\&quot;stageName\&quot;<span class="token operator">:</span> \&quot;McGroupSetup\&quot;<span class="token punctuation">,</span>
	\&quot;stageProgress\&quot;<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
	\&quot;stageOperationsTotal\&quot;<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
	\&quot;stageOperationsCompleted\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	\&quot;stageStatus\&quot;<span class="token operator">:</span> \&quot;COMPLETED\&quot;
<span class="token punctuation">}</span><span class="token punctuation">,</span>
\&quot;deveui\&quot;<span class="token operator">:</span> \&quot;18b20000000001\&quot;<span class="token punctuation">,</span>
\&quot;deviceState\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
	\&quot;deviceStatus\&quot;<span class="token operator">:</span> \&quot;PROCESSED\&quot;<span class="token punctuation">,</span>
	\&quot;fwVersion\&quot;<span class="token operator">:</span> \&quot;<span class="token number">1.2</span>.<span class="token number">3.4</span>\&quot;
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Example of the Multicast Group update progress message with update
information about &quot;fCntDown&quot; multicast group downlink frames counter.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
\&quot;version\&quot;<span class="token operator">:</span> \&quot;<span class="token number">0.2</span>.<span class="token number">1</span>\&quot;<span class="token punctuation">,</span>
\&quot;time\&quot;<span class="token operator">:</span> \&quot;<span class="token number">2018</span><span class="token number">-05</span>-07T14<span class="token operator">:</span><span class="token number">51</span><span class="token operator">:</span><span class="token number">14.055</span>+<span class="token number">0300</span>\&quot;<span class="token punctuation">,</span>
\&quot;campaignId\&quot;<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
\&quot;campaignStagesCount\&quot;<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
\&quot;campaignStagesCompleted\&quot;<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
\&quot;campaignStatus\&quot;<span class="token operator">:</span> \&quot;RUNNING\&quot;<span class="token punctuation">,</span>
\&quot;stage\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
	\&quot;stageId\&quot;<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
	\&quot;stageName\&quot;<span class="token operator">:</span> \&quot;DataFragment\&quot;<span class="token punctuation">,</span>
	\&quot;stageProgress\&quot;<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	\&quot;stageOperationsTotal\&quot;<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
	\&quot;stageOperationsCompleted\&quot;<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
	\&quot;stageStatus\&quot;<span class="token operator">:</span> \&quot;COMPLETED\&quot;
<span class="token punctuation">}</span><span class="token punctuation">,</span>
\&quot;mcGroupEui\&quot;<span class="token operator">:</span> \&quot;18b200000000fd\&quot;<span class="token punctuation">,</span>
\&quot;mcGroupState\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>
	\&quot;fCntDown\&quot;<span class="token operator">:</span> <span class="token number">131076</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Example of the stage error progress message.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
\&quot;version\&quot;<span class="token operator">:</span> \&quot;<span class="token number">0.2</span>.<span class="token number">1</span>\&quot;<span class="token punctuation">,</span>
\&quot;time\&quot;<span class="token operator">:</span> \&quot;<span class="token number">2018</span><span class="token number">-05</span>-07T14<span class="token operator">:</span><span class="token number">48</span><span class="token operator">:</span><span class="token number">44.642</span>+<span class="token number">0300</span>\&quot;<span class="token punctuation">,</span>
\&quot;campaignId\&quot;<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
\&quot;campaignStagesCount\&quot;<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
\&quot;campaignStagesCompleted\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
\&quot;campaignStatus\&quot;<span class="token operator">:</span> \&quot;ERROR\&quot;<span class="token punctuation">,</span>
\&quot;error\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>	
	\&quot;source\&quot;<span class="token operator">:</span> \&quot;AGENT\&quot;<span class="token punctuation">,</span>	
	\&quot;text\&quot;<span class="token operator">:</span> \&quot;stage is timed out\&quot;
<span class="token punctuation">}</span><span class="token punctuation">,</span>
\&quot;stage\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>	
	\&quot;stageId\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>	
	\&quot;stageName\&quot;<span class="token operator">:</span> \&quot;McGroupSetup\&quot;<span class="token punctuation">,</span>	
	\&quot;stageProgress\&quot;<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>	
	\&quot;stageOperationsTotal\&quot;<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>	
	\&quot;stageOperationsCompleted\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>	
	\&quot;stageStatus\&quot;<span class="token operator">:</span> \&quot;ERROR\&quot;	
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Example of the campaign error progress message.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
\&quot;version\&quot;<span class="token operator">:</span> \&quot;<span class="token number">0.2</span>.<span class="token number">1</span>\&quot;<span class="token punctuation">,</span>
\&quot;time\&quot;<span class="token operator">:</span> \&quot;<span class="token number">2018</span><span class="token number">-05</span>-07T14<span class="token operator">:</span><span class="token number">48</span><span class="token operator">:</span><span class="token number">44.642</span>+<span class="token number">0300</span>\&quot;<span class="token punctuation">,</span>
\&quot;campaignId\&quot;<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
\&quot;campaignStagesCount\&quot;<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
\&quot;campaignStagesCompleted\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
\&quot;campaignStatus\&quot;<span class="token operator">:</span> \&quot;ERROR\&quot;<span class="token punctuation">,</span>
\&quot;error\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>	
	\&quot;source\&quot;<span class="token operator">:</span> \&quot;AGENT\&quot;<span class="token punctuation">,</span>	
	\&quot;text\&quot;<span class="token operator">:</span> \&quot;campaign is timed out\&quot;
<span class="token punctuation">}</span><span class="token punctuation">,</span>
\&quot;stage\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>	
	\&quot;stageId\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>	
	\&quot;stageName\&quot;<span class="token operator">:</span> \&quot;McGroupSetup\&quot;<span class="token punctuation">,</span>	
	\&quot;stageProgress\&quot;<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>	
	\&quot;stageOperationsTotal\&quot;<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>	
	\&quot;stageOperationsCompleted\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>	
	\&quot;stageStatus\&quot;<span class="token operator">:</span> \&quot;COMPLETED\&quot;	
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Example of the device status update progress message with error.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
\&quot;version\&quot;<span class="token operator">:</span> \&quot;<span class="token number">0.2</span>.<span class="token number">1</span>\&quot;<span class="token punctuation">,</span>
\&quot;time\&quot;<span class="token operator">:</span> \&quot;<span class="token number">2018</span><span class="token number">-05</span>-07T14<span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">45.050</span>+<span class="token number">0300</span>\&quot;<span class="token punctuation">,</span>
\&quot;campaignId\&quot;<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
\&quot;campaignStagesCount\&quot;<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
\&quot;campaignStagesCompleted\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
\&quot;campaignStatus\&quot;<span class="token operator">:</span> \&quot;RUNNING\&quot;<span class="token punctuation">,</span>
\&quot;stage\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>	
	\&quot;stageId\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>	
	\&quot;stageName\&quot;<span class="token operator">:</span> \&quot;McGroupSetup\&quot;<span class="token punctuation">,</span>	
	\&quot;stageProgress\&quot;<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>	
	\&quot;stageOperationsTotal\&quot;<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>	
	\&quot;stageOperationsCompleted\&quot;<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>	
	\&quot;stageStatus\&quot;<span class="token operator">:</span> \&quot;RUNNING\&quot;
<span class="token punctuation">}</span><span class="token punctuation">,</span>
\&quot;deveui\&quot;<span class="token operator">:</span> \&quot;18b20000000001\&quot;<span class="token punctuation">,</span>
\&quot;deviceState\&quot;<span class="token operator">:</span> <span class="token punctuation">{</span>	
	\&quot;deviceStatus\&quot;<span class="token operator">:</span> \&quot;ERROR\&quot;
<span class="token punctuation">}</span><span class="token punctuation">,</span>
\&quot;error\&quot;<span class="token operator">:</span><span class="token punctuation">{</span>	
	\&quot;source\&quot;<span class="token operator">:</span> \&quot;DEVICE\&quot;<span class="token punctuation">,</span>	
	\&quot;text\&quot;<span class="token operator">:</span>\&quot;UpFCounter is no longer available\&quot;	
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="metrics-messages"><a href="#metrics-messages" class="header-anchor">#</a> Metrics messages</h3> <p>Metrics messages includes the following fields.</p> <table><thead><tr><th>Field</th> <th>Description</th></tr></thead> <tbody><tr><td><strong>1- &quot;version&quot;</strong></td> <td>Field with message format version. Required field</td></tr> <tr><td><strong>2- &quot;time&quot;</strong></td> <td>Field with information about timestamp when message was generated. Required field</td></tr> <tr><td><strong>3- &quot;instanceId&quot;</strong></td> <td>Field with agent instance ID of message source. Required field</td></tr> <tr><td><strong>4- &quot;uplinksAbs&quot;</strong></td> <td>Field with information about number of uplinks processed by given RMC Agent</td></tr> <tr><td><strong>5- &quot;downlinksAbs&quot;</strong></td> <td>Field with information about number of downlinks processed by given RMC Agent</td></tr></tbody></table> <p>Example of the metrics message.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>	
	\&quot;time\&quot;<span class="token operator">:</span>\&quot;<span class="token number">2017</span><span class="token number">-10</span>-31T23<span class="token operator">:</span><span class="token number">50</span><span class="token operator">:</span><span class="token number">40.987</span>+<span class="token number">0300</span>\&quot;<span class="token punctuation">,</span>		
		\&quot;version\&quot;<span class="token operator">:</span>\&quot;<span class="token number">0.2</span>.<span class="token number">1</span>\&quot;<span class="token punctuation">,</span>		
		\&quot;instanceId\&quot;<span class="token operator">:</span>\&quot;instance0\&quot;<span class="token punctuation">,</span>	
	\&quot;uplinksAbs\&quot;<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>	
	\&quot;downlinksAbs\&quot;<span class="token operator">:</span> <span class="token number">13</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-nav"><div class="line"></div> <p class="inner"><span class="prev">

      ←
      <a href="/thingpark-fuota/1.4/Functionalities/Update-campaigns/Firmware-update-campaign/" class="prev">
        Firmware update campaign
      </a></span> <span class="next"><a href="/thingpark-fuota/1.4/Server-architecture/RMC-agent/">
        RMC Agent
      </a>
      →
    </span></p></div> <footer class="page-edit"><div id="emojicom-widget-inline"></div> <div style="width: 50px"></div> <div class="edit-link"><a href="https://github.com/actility/Fuota-doc/edit/main/src/Server-architecture/RMC-core/readme.md" target="_blank" rel="noopener noreferrer"><div class="badge"><div style="color:white"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==" style="display: inline;margin-right: 4px;vertical-align: middle;"> Edit on GitHub</div> <div class="last-updated"><span class="prefix">Last Updated :</span> <span class="time">12/3/2021, 4:49:14 PM</span></div></div></a></div></footer> </main></div><div class="global-ui"><Emojicom></Emojicom></div></div>
    <script src="/thingpark-fuota/1.4/assets/js/app.e9a3e0ee.js" defer></script><script src="/thingpark-fuota/1.4/assets/js/2.b5b8ca32.js" defer></script><script src="/thingpark-fuota/1.4/assets/js/38.234468a2.js" defer></script>
  </body>
</html>
